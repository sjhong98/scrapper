(()=>{var e={};e.id=444,e.ids=[444],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},4774:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>d,pages:()=>u,routeModule:()=>m,tree:()=>p});var r=s(73137),a=s(54647),n=s(4183),o=s.n(n),i=s(71775),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);s.d(t,l);let c=r.AppPageRouteModule,p=["",{children:["board",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,18924)),"/Users/hongseungjae/Desktop/learning.js/scrapper/app/board/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,79958)),"/Users/hongseungjae/Desktop/learning.js/scrapper/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["/Users/hongseungjae/Desktop/learning.js/scrapper/app/board/[id]/page.tsx"],d="/board/[id]/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new c({definition:{kind:a.x.APP_PAGE,page:"/board/[id]/page",pathname:"/board/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},85435:(e,t,s)=>{Promise.resolve().then(s.bind(s,91746))},91746:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Board});var r=s(60080),a=s(9885),n=s(57114),o=s(72856),i=s(24937),l=s(20807),c=s(31670),p=s(61522);function Board(e){let t=(0,a.useRef)(null),s=(0,a.useRef)(null),u=(0,a.useRef)(null),d=(0,a.useRef)(null),x=(0,a.useRef)(null),m=(0,n.useRouter)(),[g,h]=(0,a.useState)(""),[f,b]=(0,a.useState)([]),[v,_]=(0,a.useState)(-1),[k,j]=(0,a.useState)([]),[y,w]=(0,a.useState)(e.params.id),[S,q]=(0,a.useState)(""),[P,C]=(0,a.useState)([]),[A,D]=(0,a.useState)(!1),[E,F]=(0,a.useState)(!1),[M,L]=(0,a.useState)(!1),N=(0,o.ZF)({apiKey:"AIzaSyB0wNhng69y2_dkHsPjN1k579LeYrSQWdU",authDomain:"scrapper-9558b.firebaseapp.com",databaseURL:"https://scrapper-9558b-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"scrapper-9558b",storageBucket:"scrapper-9558b.appspot.com",messagingSenderId:"241265284136",appId:"1:241265284136:web:253ec9f008e31a3d03911d"}),B=(0,p.ad)(N);(0,a.useEffect)(()=>{let t=0,r=e.params.id[0]+e.params.id,a=setInterval(()=>{t<r.length-1?(h(e=>e+r[t]),t++):clearInterval(a)},120);return s.current&&s.current.classList.add("textarea-show-up"),u.current&&u.current.classList.add("textarea-show-up"),getContentFromDb(),()=>{clearInterval(a)}},[]),(0,a.useEffect)(()=>{P&&b(P&&[...P].reverse())},[P]);let getContentFromDb=async()=>{let e=(0,p.IO)((0,p.hJ)(B,"posts"),(0,p.Xo)("time","desc"));await (0,p.PL)(e).then(e=>{let t=[];e.forEach(e=>{let s=e.data();s.user===y&&(s.postId=e.id,t.push(s))}),j(t)})},uploadLikes=(e,t)=>{console.log(e,t);let s=(0,p.JU)(B,"posts",e);(0,p.r7)(s,{likes:t}),getContentFromDb()},handleTextSelection=()=>{let e,t,s;console.log(k);let r=k.find(e=>e.postId===S),a=window.getSelection();if(a&&a.rangeCount>0){let s=a.getRangeAt(0),n=s.toString();t=(e=r.msg.indexOf(n))+n.length-1}let n="";for(let t=0;t<e;t++)n+=r.msg[t];let o=0,i=n.match(/\\n/g);null!==i&&(o=i.length),o>0&&(e-=o,void 0!==t&&(t-=o)),void 0!==t&&(s=t-e);let l=e;if(void 0!==s)for(let e=0;e<s+1;e++)r.likes=r.likes+l.toString()+" ",l++;uploadLikes(S,r.likes)};return(0,r.jsxs)("div",{className:"h-auto min-h-screen w-screen bg-white flex flex-col justify-center items-center",children:[r.jsx("div",{className:"h-1/6 w-1/2 flex justify-center items-center fixed top-0 z-40",children:r.jsx("p",{className:"tracking-[-5px] text-black text-8xl border-r-4 border-black pr-[15px] cursor-pointer",style:{fontFamily:"lemon-r"},children:g})}),(0,r.jsxs)("div",{className:"right-0 mr-12 mt-12 opacity-0 fixed top-0 cursor-pointer flex flex-col",style:{zIndex:9999},ref:u,children:[r.jsx(l.Z,{ref:d,onClick:()=>m.push("/posts"),onMouseOver:()=>D(!0),onMouseLeave:()=>D(!1),className:A?"scale-up":"scale-down",sx:{fontSize:50,color:"black"}}),r.jsx(i.Z,{ref:x,onClick:()=>m.push("/"),onMouseOver:()=>F(!0),onMouseLeave:()=>F(!1),className:E?"scale-up":"scale-down",sx:{fontSize:50,color:"black",marginTop:"3vh"}}),r.jsx(c.Z,{onClick:()=>m.push("/scrap"),onMouseOver:()=>L(!0),onMouseLeave:()=>L(!1),className:M?"scale-up":"scale-down",sx:{fontSize:50,color:"black",marginTop:"3vh"}})]}),r.jsx("div",{ref:s,className:"w-screen flex flex-col mt-60 justify-center items-center absolute transform translate-y-16 opacity-0 overflow-hidden",children:r.jsx("div",{className:"w-5/6 mt-32 h-screen flex flex-col items-center",children:k.map((e,s)=>{let a=e.msg.replace(/\\n/g,"\n"),n=[],o=e.likes.split(" ");for(let e=0;e<a.length;e++)n[e]=0;for(let e=0;e<o.length;e++)n[o[e]]=n[o[e]]+1;return r.jsx("p",{ref:t,onMouseOver:()=>{_(s),q(e.postId)},onMouseLeave:()=>_(-1),style:{whiteSpace:"pre-wrap"},className:s===v?"leading-[38px] text-black font-extralight p-3 mt-2 text-[20px] text-center rounded-md line-highlight":"leading-[38px] text-black font-extralight text-[20px] p-3 mt-2 text-center rounded-md line-un-highlight",children:a.split("").map((e,t)=>{let s;return s=n[t]>8?"#A6A6A6":n[t]>=7?"#ADADAD":n[t]>=6?"#B5B5B5":n[t]>=5?"#BFBFBF":n[t]>=4?"#CCCCCC":n[t]>=3?"#D9D9D9":n[t]>=2?"#E6E6E6":n[t]>=1?"#F2F2F2":"#FFF",r.jsx("span",{onMouseUp:handleTextSelection,className:"text-black",style:{backgroundColor:s,userSelect:"text"},children:e},t)})},s)})})})]})}s(95563)},18924:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>l});var r=s(17536);let a=(0,r.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/scrapper/app/board/[id]/page.tsx`),{__esModule:n,$$typeof:o}=a,i=a.default,l=i},57481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=s(96885);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,r.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}},95563:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[255,37,218,484],()=>__webpack_exec__(4774));module.exports=s})();