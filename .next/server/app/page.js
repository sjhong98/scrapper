(()=>{var e={};e.id=931,e.ids=[931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},26252:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>d,pages:()=>p,routeModule:()=>g,tree:()=>u});var r=s(73137),a=s(54647),n=s(4183),o=s.n(n),l=s(71775),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let c=r.AppPageRouteModule,u=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,54165)),"/Users/hongseungjae/Desktop/learning.js/scrapper/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,79958)),"/Users/hongseungjae/Desktop/learning.js/scrapper/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,51918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["/Users/hongseungjae/Desktop/learning.js/scrapper/app/page.tsx"],d="/page",x={require:s,loadChunk:()=>Promise.resolve()},g=new c({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},17246:(e,t,s)=>{Promise.resolve().then(s.bind(s,11849))},11849:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Home});var r=s(60080),a=s(9885),n=s(57114),o=s(72856),l=s(24937),i=s(20807),c=s(99253),u=s(30237),p=s(31670),d=s(61522);function Home(){let e=(0,a.useRef)(null),t=(0,a.useRef)(null),s=(0,a.useRef)(null),x=(0,a.useRef)(null),g=(0,a.useRef)(null),m=(0,a.useRef)(null),h=(0,n.useRouter)(),[f,v]=(0,a.useState)(""),[b,k]=(0,a.useState)([]),[w,y]=(0,a.useState)(-1),[S,j]=(0,a.useState)(),[_,L]=(0,a.useState)(!1),[C,P]=(0,a.useState)(""),[D,q]=(0,a.useState)(""),[E,N]=(0,a.useState)(""),[M,F]=(0,a.useState)(""),[A,I]=(0,a.useState)(10),[T,U]=(0,a.useState)(""),[R,O]=(0,a.useState)([]),[z,B]=(0,a.useState)(!1),[G,J]=(0,a.useState)(!1),[Z,K]=(0,a.useState)(!1),[W,X]=(0,a.useState)(!1),[H,Q]=(0,a.useState)(!1),$=new Date("2023-10-15T12:00:00"),[Y,V]=(0,a.useState)([]),ee=(0,o.ZF)({apiKey:"AIzaSyB0wNhng69y2_dkHsPjN1k579LeYrSQWdU",authDomain:"scrapper-9558b.firebaseapp.com",databaseURL:"https://scrapper-9558b-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"scrapper-9558b",storageBucket:"scrapper-9558b.appspot.com",messagingSenderId:"241265284136",appId:"1:241265284136:web:253ec9f008e31a3d03911d"}),et=(0,d.ad)(ee);(0,a.useEffect)(()=>{let t=sessionStorage.getItem("scrapper-login");q(t&&t);let s=0,r="SSCRAPPER",a=setInterval(()=>{s<r.length-1?(v(e=>e+r[s]),s++):clearInterval(a)},120);return!sessionStorage.getItem("scrapper-login")&&(void 0!==g.current?g.current&&g.current.classList.add("login-show-up"):(getContentFromDb(),setTimeout(()=>{void 0!==x.current&&void 0!==e.current&&void 0!==m&&(x.current&&x.current.classList.add("textarea-show-up"),e.current&&e.current.classList.add("textarea-show-up"),m.current&&m.current.classList.add("textarea-show-up"),e.current&&e.current.focus())},1e3))),()=>{clearInterval(a)}},[]),(0,a.useEffect)(()=>{if(""!==M?void 0!==s.current&&s.current&&(s.current.classList.remove("not-available-to-upload"),s.current.classList.add("available-to-upload")):void 0!==s.current&&s.current&&(s.current.classList.remove("available-to-upload"),s.current.classList.add("not-available-to-upload")),null!==M.match(/\n/g)){let e=M.match(/\n/g),t=e?e.length:0;I((10+t)*3.5)}},[M]),(0,a.useEffect)(()=>{R&&k(R&&[...R].reverse())},[R]);let handleLogin=async t=>{"Enter"===t.key&&(D&&E?(getContentFromDb(),(0,d.QT)((0,d.JU)(et,"accounts",D)).then(t=>{let s=t.data().password;null===s?P("존재하지 않는 아이디"):E===s?(P(""),sessionStorage.setItem("scrapper-login",D),g.current&&g.current.classList.add("login-done"),x.current&&x.current.classList.add("textarea-show-up"),m.current&&m.current.classList.add("textarea-show-up"),setTimeout(()=>{e.current&&e.current.classList.add("textarea-show-up"),e.current&&e.current.focus()},100),getContentFromDb()):P("비밀번호 미일치")})):P("모두 입력해주세요"))},uploadMsg=e=>{let t=new Date;(0,d.ET)((0,d.hJ)(et,"posts"),{msg:e,likes:"",user:D,time:t-$}),getContentFromDb(),F("")},getContentFromDb=async()=>{let e=sessionStorage.getItem("scrapper-login"),t=(0,d.IO)((0,d.hJ)(et,"posts"),(0,d.Xo)("time","desc"));await (0,d.PL)(t).then(t=>{let s=[];t.forEach(t=>{let r=t.data();r.user===e&&(r.postId=t.id,s.push(r))}),V(s)})},uploadLikes=(e,t)=>{let s=(0,d.JU)(et,"posts",e);(0,d.r7)(s,{likes:t}),getContentFromDb()},handleTextSelection=()=>{let e,t,s;let r=Y.find(e=>e.postId===T),a=window.getSelection();if(a&&a.rangeCount>0){let s=a.getRangeAt(0),n=s.toString();t=(e=r.msg.indexOf(n))+n.length-1}let n="";for(let t=0;t<e;t++)n+=r.msg[t];let o=0;if(null!==n.match(/\\n/g)){let e=n.match(/\\n/g),t=e?e.length:0;o=t}o>0&&(e-=o,t&&(t-=o)),void 0!==t&&(s=t-e);let l=e;if(void 0!==s)for(let e=0;e<s+1;e++)r.likes=r.likes+l.toString()+" ",l++;uploadLikes(T,r.likes)},handleDelete=()=>{(0,d.oe)((0,d.JU)(et,"posts",T)).then(e=>{alert("삭제되었습니다.")}),getContentFromDb()},handleScrap=()=>{(0,d.QT)((0,d.JU)(et,"accounts",D)).then(e=>{let t=e.data().scrap;for(let e=0;e<t.length;e++)if(t[e]===T){alert("이미 스크랩된 게시물입니다.");return}t.push(T),(0,d.r7)((0,d.JU)(et,"accounts",D),{scrap:t}).then(e=>{alert("스크랩되었습니다.")})})};return(0,r.jsxs)("div",{className:"h-auto min-h-screen w-screen bg-white flex flex-col justify-center items-center",children:[r.jsx("div",{className:"h-1/6 w-1/2 flex justify-center items-center fixed transform translate-y-80 top-0 z-40 logo-move-up",children:r.jsx("p",{onMouseOver:()=>{s.current&&s.current.classList.add("font-black")},onMouseOut:()=>{s.current&&s.current.classList.remove("font-black")},onClick:()=>{uploadMsg(M)},ref:s,className:"tracking-[-5px] text-gray-500 text-8xl border-r-4 border-black pr-[15px] cursor-pointer",style:{fontFamily:"lemon-r"},children:f})}),(0,r.jsxs)("div",{className:"right-0 mr-12 mt-12 opacity-0 fixed top-0 cursor-pointer flex flex-col",style:{zIndex:9999},ref:m,children:[r.jsx(i.Z,{onClick:()=>h.push("/posts"),onMouseOver:()=>B(!0),onMouseLeave:()=>B(!1),className:z?"scale-up":"scale-down",sx:{fontSize:50,color:"black"}}),r.jsx(l.Z,{onClick:()=>h.push("/"),onMouseOver:()=>J(!0),onMouseLeave:()=>J(!1),className:G?"scale-up":"scale-down",sx:{fontSize:50,color:"black",marginTop:"3vh"}}),r.jsx(p.Z,{onClick:()=>h.push("/scrap"),onMouseOver:()=>K(!0),onMouseLeave:()=>K(!1),className:Z?"scale-up":"scale-down",sx:{fontSize:50,color:"black",marginTop:"3vh"}}),r.jsx(c.Z,{onClick:()=>{sessionStorage.clear(),window.location.reload()},onMouseOver:()=>{Q(!0),X(!0)},onMouseLeave:()=>{Q(!1),X(!1)},className:W?"scale-up":"scale-down",sx:{fontSize:40,marginLeft:"8px",color:"black",marginTop:"3vh"}})]}),(0,r.jsxs)("div",{ref:g,className:"w-screen h-screen absolute flex flex-col justify-center items-center transform -translate-y-32 opacity-0",children:[r.jsx("input",{placeholder:"EMAIL",value:D,onChange:e=>q(e.target.value),onKeyDown:e=>{"Enter"===e.key&&handleLogin(e)},type:"text",className:"w-1/5 focus:outline-none text-center text-3xl border-b-2 border-black pb-2 placeholder-black"}),r.jsx("input",{placeholder:"PW",value:E,onChange:e=>N(e.target.value),onKeyDown:e=>{"Enter"===e.key&&handleLogin(e)},type:"password",className:"w-1/5 focus:outline-none text-center text-3xl border-b-2 border-black pb-2 placeholder-black mt-12"}),r.jsx("p",{className:"text-xl mt-12",children:C}),r.jsx("a",{className:"text-xl mt-12",href:"/signup",children:"or  SIGN UP"})]}),(0,r.jsxs)("div",{ref:x,className:"w-screen flex flex-col mt-60 justify-center items-center absolute transform translate-y-16 opacity-0 overflow-hidden",children:[r.jsx("textarea",{value:M,onChange:e=>F(e.target.value),ref:e,style:{height:`${A}vh`},className:"w-5/6 text-black text-2xl text-center font-thin mt-80 focus:outline-none overflow-hidden resize-none"}),r.jsx("div",{className:"w-5/6 h-screen flex flex-col items-center",children:Y.map((e,s)=>{let a=e.msg.replace(/\\n/g,"\n"),n=[],o=e.likes.split(" ");for(let e=0;e<a.length;e++)n[e]=0;for(let e=0;e<o.length;e++)n[o[e]]=n[o[e]]+1;return(0,r.jsxs)("div",{className:"flex flex-row justify-center items-center ml-6",onMouseOver:()=>{y(s),U(e.postId)},onMouseLeave:()=>y(-1),children:[r.jsx("p",{ref:t,style:{whiteSpace:"pre-wrap"},className:s===w?"leading-[38px] text-black font-extralight p-3 mt-2 text-[20px] text-center rounded-md line-highlight":"leading-[38px] text-black font-extralight text-[20px] p-3 mt-2 text-center rounded-md line-un-highlight",children:a.split("").map((e,t)=>{let s;return s=n[t]>8?"#A6A6A6":n[t]>=7?"#ADADAD":n[t]>=6?"#B5B5B5":n[t]>=5?"#BFBFBF":n[t]>=4?"#CCCCCC":n[t]>=3?"#D9D9D9":n[t]>=2?"#E6E6E6":n[t]>=1?"#F2F2F2":"#FFF",r.jsx("span",{onMouseUp:handleTextSelection,className:"text-black",style:{backgroundColor:s,userSelect:"text"},children:e},t)})},s),(0,r.jsxs)("div",{className:s===w?"opacity-1":"opacity-0",children:[r.jsx(p.Z,{sx:{color:"#333",cursor:"pointer"},onClick:handleScrap}),r.jsx(u.Z,{sx:{color:"#333",cursor:"pointer"},onClick:handleDelete})]})]},s)})})]})]})}s(95563)},54165:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>o,__esModule:()=>n,default:()=>i});var r=s(17536);let a=(0,r.createProxy)(String.raw`/Users/hongseungjae/Desktop/learning.js/scrapper/app/page.tsx`),{__esModule:n,$$typeof:o}=a,l=a.default,i=l},57481:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var r=s(96885);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,r.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}},95563:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[255,37,218,559,484],()=>__webpack_exec__(26252));module.exports=s})();